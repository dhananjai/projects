<style type="text/css">
* { font-family: Verdana; font-size: 8px; }
label { width: 10em; float: left; }
label.error { float: none; color: red; padding-left: .5em; vertical-align: top; }
p { clear: both; }
.submit { margin-left: 12em; }
em { font-weight: bold; padding-right: 1em; vertical-align: top; }
</style>

<span class="blue_header profile_header">Profile Details</span>
<div id="edit_user_error"></div>
<div class="profile_ditail_table_div">
<div id="profile_no_edit">
<%= render :partial=>"users/sub_partial/show_user" %>
</div>

<% if @is_current_user %>
<div id="profile_edit" style="display:none">  
<%= render :partial=>"users/sub_partial/edit_user"  %>
</div>
<a href="javascript:void(0);" id="edit_update" class="action_link no_text_deco float_r">Edit</a>
<% end %>
</div>

<% if @is_current_user %>
<script type="text/javascript">
	jQuery(document).ready(function(){
       /* jQuery.validator.addMethod("noSpace", function(value, element) {
            return value.indexOf(" ") < 0 && value != "";
            }, "Space is not allowed for this field");
            
		var validator = $("#edit_user").validate({
                invalidHandler:function(form,validator)
                {
                  jQuery("#user_encrypted_password").val("");
                }
                });
                
                */
                
		jQuery("#edit_update").click(function(){
			$("#profile_no_edit").toggle();
			$("#profile_edit").toggle();
			if($('#edit_update').text() == 'Cancel')
			{
				jQuery("input[type='text'], textarea").each(function(v,i){
				    jQuery(this).val(jQuery(this).siblings("pre").html());
				});
				jQuery("label.error").html("");
			}
			$('#edit_update').text($('#edit_update').text() == 'Edit' ? 'Cancel' : 'Edit');
                     
		});
	});
</script>

<% end %>









