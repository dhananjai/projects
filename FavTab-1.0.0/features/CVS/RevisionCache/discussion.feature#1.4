  Feature: Discuss web page in Process
    In order to test all Tab functionality 
    as an user
    I want various following scenarios.

   @javascript
   Scenario: See links in discussion section
    Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    And I follow "Discussion"
    And I should be on the discussions page
    Then I should see "Discuss a web page"
    And I should see "My Discussions"
    And I should see "Most Popular Discussions"

    @javascript
   Scenario: To test the validation for discussion
    Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    Then I should be on the my account page
    And I follow "Discussion"
    Then I should see "Discuss a web page"
    When I fill in the following:
     | discussion_url |  |
    And I press "Discuss"
    Then I should see "Please enter url."
    When I fill in the following:
     | discussion_url | abcd |
    And I press "Discuss"
    Then I should see "Please enter valid url."
    When I fill in the following:
     | discussion_url | www.google.com |
    And I press "Discuss"
    And I wait 5 seconds
    Then I should see "Discussion posted sucessfully."
    Then I should see "Google"


   @javascript
   Scenario: See discussion web page functionality
    Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    And I go to the my account page 
    And I follow "Discussion"
    Then I should see "Discuss a web page"
    When I fill in the following:
     | discussion_url | http://www.google.com |
    And I press "Discuss"
    And I wait 5 seconds
    Then I should see "Google"

   @javascript
   Scenario: See post comment functionality
   Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    And I go to the my account page 
    And I follow "Discussion"
    Then I should see "Discuss a web page"
    When I fill in the following:
     | discussion_url | http://www.google.com |
    And I press "Discuss"
    And I wait 5 seconds
    Then I should see "Google"
    And I should see "Post Comment"
    And I follow "Post Comment"
    And I should see "cancel"
    When I fill in the following:
     | comment_comment | Hi HI HI hI hI hi hi |
    And I wait 3 seconds
    And I follow "post_discussion_comment"
    And I wait 5 seconds
    And I should see "Comment posted sucessfully."

  @javascript
   Scenario: See post comment functionality
    Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    And I go to the my account page
    And I follow "Discussion"
    And I should be on the discussions page
    Then I should see "Discuss a web page"
    When I fill in the following:
     | discussion_url | http://www.google.com |
    And I press "Discuss"
    And I wait 5 seconds
    Then I should see "Google"
    And I should see "Post Comment"
    And I follow "Post Comment"
    And I should see "Cancel"
    When I follow "Cancel"
     And I wait 2 seconds
    Then I should not see "comment_comment"

   @javascript
   Scenario: See post comment functionality
    Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    And I go to the my account page
    And I have user named "satish" email "satish.zol@cipher-tech.com" and password "satish123"  with discussion "http://www.google.com"
    And I follow "Discussion"
    And I wait 1 seconds
    And I should be on the discussions page
    Then I should see "Google"
    And I should see "Post Comment"
    And I should see "Rate It"
    And I follow "Rate It"
    And I should see "Cancel"
    When I follow "Cancel"
     And I wait 2 seconds
    Then I should see "Rate It"

   @javascript
   Scenario: See delete comment functionality
    Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    And I go to the my account page
    And I have user named "satish" email "satish.zol@cipher-tech.com" and password "satish123"  with discussion "http://www.google.com"
    And I follow "Discussion"
    And I wait 1 seconds
    And I should be on the discussions page
    Then I should see "Google"
    And I should see "Post Comment"
    And I follow "Post Comment"
    And I should see "cancel"
    When I fill in the following:
     | comment_comment | Hi HI HI hI hI hi hi |
    And I wait 3 seconds
    And I follow "post_discussion_comment"
    And I wait 3 seconds
    And I should see "Comment posted sucessfully."
    And I follow "toogle_comment"
    And I wait 1 seconds
    And I should see "Delete"
    When I follow "Delete" within "[@class='comments_div']"
    And I accept confirm popup
    Then I should see "Comment deleted successfully."

   @javascript
   Scenario: See edit comment functionality
    Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    And I go to the my account page
    And I have user named "satish" email "satish.zol@cipher-tech.com" and password "satish123"  with discussion "http://www.google.com"
    And I follow "Discussion"
    And I wait 1 seconds
    And I should be on the discussions page
    Then I should see "Google"
    And I should see "Post Comment"
    And I follow "Post Comment"
    And I should see "cancel"
    When I fill in the following:
     | comment_comment | Hi HI HI hI hI hi hi |
    And I follow "post_discussion_comment"
    And I wait 3 seconds
    And I should see "Comment posted sucessfully."
    And I follow "toogle_comment"
    And I wait 1 seconds
    And I should see "Edit"
    When I follow "Edit" within "[@class='comments_div']"
    And I should not see "Edit"
    When I fill in the following:
     | response_comment_comment | Hello comment updated |
    And I follow "Update"
    And I wait 3 seconds
    Then I should see "Comment updated successfully."


   @javascript
   Scenario: See edit comment cancel functionality
    Given I am on the home page
    And I have logged in as user with named "Jalendra" and email "jalendra.bhanarkar@cipher-tech.com" and password "12345678"
    When I press "Sign In"
    And I go to the my account page
    And I have user named "satish" email "satish.zol@cipher-tech.com" and password "satish123"  with discussion "http://www.google.com"
    And I follow "Discussion"
    And I wait 1 seconds
    And I should be on the discussions page
    Then I should see "Google"
    And I should see "Post Comment"
    And I follow "Post Comment"
    And I should see "cancel"
    When I fill in the following:
     | comment_comment | Hi HI HI hI hI hi hi |
    And I follow "post_discussion_comment"
    And I wait 3 seconds
    And I should see "Comment posted sucessfully."
    And I follow "toogle_comment"
    And I wait 1 seconds
    And I should see "Edit"
    When I follow "Edit" within "[@class='comments_div']"
    And I should see "Cancel"
    When I follow "Cancel"
    And I should see "Edit" within "[@class='comments_div']"








