require 'spec_helper'

describe UserDetail do
  before(:each) do
    @user_detail = UserDetail.new(:age => 18, :work_info => 'IT', :education => 'BE', :interest_internet => 'Entertainment', :about_me => 'Simple Guy')
  end

  it "should be invalid with a non-integer age" do
    @user_detail.age = 'Twenty'
    @user_detail.should_not be_valid
    @user_detail.errors[:age].should include("is not a number")
    @user_detail.age = 18
    @user_detail.should be_valid
  end

  it "should be invalid with a age less than 18" do
    @user_detail.age = 16
    @user_detail.should_not be_valid
    @user_detail.errors[:age].should include("must be greater than or equal to 18")
    @user_detail.age = 18
    @user_detail.should be_valid
  end

  it "should be invalid with a age greater than 100" do
    @user_detail.age = 101
    @user_detail.should_not be_valid
    @user_detail.errors[:age].should include("must be less than or equal to 100")
    @user_detail.age = 18
    @user_detail.should be_valid
  end

  it "should be invalid with a work_info greater than 600" do
    @user_detail.work_info = 'a'*601
    @user_detail.should_not be_valid
    @user_detail.errors[:work_info].should include("is too long (maximum is 600 characters)")
    @user_detail.work_info = 'a'*600
    @user_detail.should be_valid
  end

  it "should be invalid with a education greater than 600" do
    @user_detail.education= 'a'*601
    @user_detail.should_not be_valid
    @user_detail.errors[:education].should include("is too long (maximum is 600 characters)")
    @user_detail.education = 'a'*600
    @user_detail.should be_valid
  end

  it "should be invalid with a interest_internet greater than 600" do
    @user_detail.interest_internet = 'a'*601
    @user_detail.should_not be_valid
    @user_detail.errors[:interest_internet].should include("is too long (maximum is 600 characters)")
    @user_detail.interest_internet = 'a'*600
    @user_detail.should be_valid
  end

  it "should be invalid with a about_me greater than 600" do
    @user_detail.about_me = 'a'*201
    @user_detail.should_not be_valid
    @user_detail.errors[:about_me].should include("is too long (maximum is 200 characters)")
    @user_detail.about_me = 'a'*200
    @user_detail.should be_valid
  end















end
